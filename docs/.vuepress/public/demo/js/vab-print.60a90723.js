(window.webpackJsonp=window.webpackJsonp||[]).push([["vab-print"],{a39d:function(e,t,n){},d657:function(e,t,n){"use strict";n("a39d")},f7fe:function(e,t,n){"use strict";n.r(t);var o=n("7a23"),r=Object(o.withScopeId)("data-v-69b92e6a");Object(o.pushScopeId)("data-v-69b92e6a");var c=Object(o.createTextVNode)("普通打印"),i=Object(o.createVNode)("div",{style:{height:"20px"}},null,-1),a={class:"printMain",ref:"printMain"},l=Object(o.createVNode)("div",{class:"item"},[Object(o.createTextVNode)("打印内容1 "),Object(o.createVNode)("i",{class:"el-icon-platform-eleme"}),Object(o.createTextVNode)(),Object(o.createVNode)("p",{class:"no-print"},"忽略打印")],-1),d=Object(o.createVNode)("div",{style:{"page-break-after":"always"}},null,-1),u=Object(o.createVNode)("div",{class:"item"},"打印内容2",-1),s=Object(o.createTextVNode)("动态打印");Object(o.popScopeId)();var p=r((function(e,t,n,p,f,b){var m=Object(o.resolveComponent)("el-alert"),h=Object(o.resolveComponent)("el-button"),y=Object(o.resolveComponent)("el-tab-pane"),v=Object(o.resolveComponent)("el-tabs"),O=Object(o.resolveComponent)("el-card"),j=Object(o.resolveComponent)("el-main");return Object(o.openBlock)(),Object(o.createBlock)(j,null,{default:r((function(){return[Object(o.createVNode)(O,{shadow:"never"},{default:r((function(){return[Object(o.createVNode)(v,{"tab-position":"top"},{default:r((function(){return[Object(o.createVNode)(y,{label:"普通打印"},{default:r((function(){return[Object(o.createVNode)(m,{title:"打印当前页面已存在的元素,如包含.no-print样式就忽略,分页打印就需要{page-break-after: always}控制",type:"success",style:{"margin-bottom":"20px"}}),Object(o.createVNode)(h,{type:"primary",onClick:b.print},{default:r((function(){return[c]})),_:1},8,["onClick"]),i,Object(o.createVNode)("div",a,[l,d,u],512)]})),_:1}),Object(o.createVNode)(y,{label:"动态打印"},{default:r((function(){return[Object(o.createVNode)(m,{title:"打印创建的DOM结构,适用于远程获取模板后打印",type:"success",style:{"margin-bottom":"20px"}}),Object(o.createVNode)(h,{type:"primary",onClick:b.print2},{default:r((function(){return[s]})),_:1},8,["onClick"])]})),_:1})]})),_:1})]})),_:1})]})),_:1})})),f=n("53ca"),b=function e(t,n){if(!(this instanceof e))return new e(t,n);if(this.options=this.extend({noPrint:".no-print"},n),"string"==typeof t)try{this.dom=document.querySelector(t)}catch(e){var o=document.createElement("div");o.innerHTML=t,this.dom=o}else this.isDOM(t),this.dom=this.isDOM(t)?t:t.$el;this.init()};b.prototype={init:function(){var e=this.getStyle()+this.getHtml();this.writeIframe(e)},extend:function(e,t){for(var n in t)e[n]=t[n];return e},getStyle:function(){for(var e="",t=document.querySelectorAll("style,link"),n=0;n<t.length;n++)e+=t[n].outerHTML;return e+="<style>"+(this.options.noPrint?this.options.noPrint:".no-print")+"{display:none;}</style>",e+="<style>html,body{background-color:#fff;}</style>"},getHtml:function(){for(var e=document.querySelectorAll("input"),t=document.querySelectorAll("textarea"),n=document.querySelectorAll("select"),o=0;o<e.length;o++)"checkbox"==e[o].type||"radio"==e[o].type?1==e[o].checked?e[o].setAttribute("checked","checked"):e[o].removeAttribute("checked"):(e[o].type,e[o].setAttribute("value",e[o].value));for(var r=0;r<t.length;r++)"textarea"==t[r].type&&(t[r].innerHTML=t[r].value);for(var c=0;c<n.length;c++)if("select-one"==n[c].type){var i=n[c].children;for(var a in i)"OPTION"==i[a].tagName&&(1==i[a].selected?i[a].setAttribute("selected","selected"):i[a].removeAttribute("selected"))}return this.dom.outerHTML},writeIframe:function(e){var t,n,o=document.createElement("iframe"),r=document.body.appendChild(o);o.id="myIframe",o.setAttribute("style","position:absolute;width:0;height:0;top:-10px;left:-10px;"),t=r.contentWindow||r.contentDocument,(n=r.contentDocument||r.contentWindow.document).open(),n.write(e),n.close();var c=this;o.onload=function(){c.toPrint(t),setTimeout((function(){document.body.removeChild(o)}),100)}},toPrint:function(e){try{setTimeout((function(){e.focus();try{e.document.execCommand("print",!1,null)||e.print()}catch(t){e.print()}e.close()}),10)}catch(e){console.log("err",e)}},isDOM:"object"===("undefined"==typeof HTMLElement?"undefined":Object(f.a)(HTMLElement))?function(e){return e instanceof HTMLElement}:function(e){return e&&"object"===Object(f.a)(e)&&1===e.nodeType&&"string"==typeof e.nodeName}};var m=b,h={name:"print",data:function(){return{}},methods:{print:function(){m(this.$refs.printMain)},print2:function(){m("<h2>TITLE</h2><p>后创建的DOM结构</p>")}}};n("d657");h.render=p,h.__scopeId="data-v-69b92e6a";t.default=h}}]);