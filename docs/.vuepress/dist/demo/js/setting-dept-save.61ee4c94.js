(window.webpackJsonp=window.webpackJsonp||[]).push([["setting-dept-save"],{"5c84":function(e,t,o){"use strict";o.r(t);o("4e82");var r=o("7a23"),n=Object(r.createTextVNode)("取 消"),a=Object(r.createTextVNode)("保 存");var l=o("c7eb"),c=o("1da1"),s={emits:["success","closed"],data:function(){return{mode:"add",titleMap:{add:"新增",edit:"编辑",show:"查看"},visible:!1,isSaveing:!1,form:{id:"",parentId:"",label:"",sort:1,status:"1",remark:""},rules:{sort:[{required:!0,message:"请输入排序",trigger:"change"}],label:[{required:!0,message:"请输入部门名称"}]},groups:[],groupsProps:{value:"id",emitPath:!1,checkStrictly:!0}}},mounted:function(){this.getGroup()},methods:{open:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"add";return this.mode=e,this.visible=!0,this},getGroup:function(){var e=this;return Object(c.a)(Object(l.a)().mark((function t(){var o;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$API.system.dept.list.get();case 2:o=t.sent,e.groups=o.data;case 4:case"end":return t.stop()}}),t)})))()},submit:function(){var e=this;this.$refs.dialogForm.validate(function(){var t=Object(c.a)(Object(l.a)().mark((function t(o){var r;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!o){t.next=7;break}return e.isSaveing=!0,t.next=4,e.$API.demo.post.post(e.form);case 4:r=t.sent,e.isSaveing=!1,200==r.code?(e.$emit("success",e.form,e.mode),e.visible=!1,e.$message.success("操作成功")):e.$alert(r.message,"提示",{type:"error"});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},setData:function(e){this.form.id=e.id,this.form.label=e.label,this.form.status=e.status,this.form.sort=e.sort,this.form.parentId=e.parentId,this.form.remark=e.remark}}},i=o("6b0d");const u=o.n(i)()(s,[["render",function(e,t,o,l,c,s){var i=Object(r.resolveComponent)("el-cascader"),u=Object(r.resolveComponent)("el-form-item"),d=Object(r.resolveComponent)("el-input"),m=Object(r.resolveComponent)("el-input-number"),b=Object(r.resolveComponent)("el-switch"),p=Object(r.resolveComponent)("el-form"),f=Object(r.resolveComponent)("el-button"),h=Object(r.resolveComponent)("el-dialog");return Object(r.openBlock)(),Object(r.createBlock)(h,{title:c.titleMap[c.mode],modelValue:c.visible,"onUpdate:modelValue":t[7]||(t[7]=function(e){return c.visible=e}),width:500,"destroy-on-close":"",onClosed:t[8]||(t[8]=function(t){return e.$emit("closed")})},{footer:Object(r.withCtx)((function(){return[Object(r.createVNode)(f,{onClick:t[5]||(t[5]=function(e){return c.visible=!1})},{default:Object(r.withCtx)((function(){return[n]})),_:1}),"show"!=c.mode?(Object(r.openBlock)(),Object(r.createBlock)(f,{key:0,type:"primary",loading:c.isSaveing,onClick:t[6]||(t[6]=function(e){return s.submit()})},{default:Object(r.withCtx)((function(){return[a]})),_:1},8,["loading"])):Object(r.createCommentVNode)("",!0)]})),default:Object(r.withCtx)((function(){return[Object(r.createVNode)(p,{model:c.form,rules:c.rules,disabled:"show"==c.mode,ref:"dialogForm","label-width":"100px"},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(u,{label:"上级部门",prop:"parentId"},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(i,{modelValue:c.form.parentId,"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.form.parentId=e}),options:c.groups,props:c.groupsProps,"show-all-levels":!1,clearable:"",style:{width:"100%"}},null,8,["modelValue","options","props"])]})),_:1}),Object(r.createVNode)(u,{label:"部门名称",prop:"label"},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(d,{modelValue:c.form.label,"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.form.label=e}),placeholder:"请输入部门名称",clearable:""},null,8,["modelValue"])]})),_:1}),Object(r.createVNode)(u,{label:"排序",prop:"sort"},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(m,{modelValue:c.form.sort,"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.form.sort=e}),"controls-position":"right",min:1,style:{width:"100%"}},null,8,["modelValue"])]})),_:1}),Object(r.createVNode)(u,{label:"是否有效",prop:"status"},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(b,{modelValue:c.form.status,"onUpdate:modelValue":t[3]||(t[3]=function(e){return c.form.status=e}),"active-value":1,"inactive-value":0},null,8,["modelValue"])]})),_:1}),Object(r.createVNode)(u,{label:"备注",prop:"remark"},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(d,{modelValue:c.form.remark,"onUpdate:modelValue":t[4]||(t[4]=function(e){return c.form.remark=e}),clearable:"",type:"textarea"},null,8,["modelValue"])]})),_:1})]})),_:1},8,["model","rules","disabled"])]})),_:1},8,["title","modelValue"])}]]);t.default=u}}]);