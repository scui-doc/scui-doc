"use strict";(self["webpackChunkscui"]=self["webpackChunkscui"]||[]).push([[7898],{58738:function(e,t,l){l.r(t),l.d(t,{default:function(){return w}});var s=l(66252);const o={style:{"margin-top":"15px"}},i=(0,s.Uk)("发送弹幕");function r(e,t,l,r,a,u){const n=(0,s.up)("sc-video"),d=(0,s.up)("el-option"),p=(0,s.up)("el-select"),m=(0,s.up)("el-form-item"),c=(0,s.up)("el-input"),h=(0,s.up)("el-button"),f=(0,s.up)("el-form"),y=(0,s.up)("el-card"),v=(0,s.up)("el-col"),g=(0,s.up)("el-row"),w=(0,s.up)("el-main");return(0,s.wg)(),(0,s.j4)(w,null,{default:(0,s.w5)((()=>[(0,s.Wm)(g,{gutter:15},{default:(0,s.w5)((()=>[(0,s.Wm)(v,{lg:12},{default:(0,s.w5)((()=>[(0,s.Wm)(y,{shadow:"never",header:"MP4点播"},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{ref:"mp4",src:"https://cdn.jsdelivr.net/gh/scuiadmin/CDN/video/scui-player-demo-1080.mp4",poster:"https://cdn.jsdelivr.net/gh/scuiadmin/CDN/video/scui-player-demo-1080_Moment.jpg",resource:a.resource,danmu:a.danmu,progressDot:a.progressDot,pip:""},null,8,["resource","danmu","progressDot"]),(0,s._)("div",o,[(0,s.Wm)(f,{inline:""},{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,{modelValue:a.mode,"onUpdate:modelValue":t[0]||(t[0]=e=>a.mode=e),placeholder:"Select"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{label:"默认",value:"scroll"}),(0,s.Wm)(d,{label:"顶部",value:"top"}),(0,s.Wm)(d,{label:"底部",value:"bottom"})])),_:1},8,["modelValue"])])),_:1}),(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(c,{modelValue:a.input,"onUpdate:modelValue":t[1]||(t[1]=e=>a.input=e),placeholder:"Please input"},null,8,["modelValue"])])),_:1}),(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(h,{type:"primary",onClick:u.sendComment},{default:(0,s.w5)((()=>[i])),_:1},8,["onClick"])])),_:1})])),_:1})])])),_:1})])),_:1}),(0,s.Wm)(v,{lg:12},{default:(0,s.w5)((()=>[(0,s.Wm)(y,{shadow:"never",header:"HlS(m3u8)直播"},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{src:"https://hsplay-360.v.btime.com/live_btime/btv_sn_20170706_s4/index.m3u8",isLive:""})])),_:1})])),_:1})])),_:1})])),_:1})}const a={class:"sc-video",ref:"scVideo"};function u(e,t,l,o,i,r){return(0,s.wg)(),(0,s.iD)("div",a,null,512)}var n=l(38275),d=l.n(n),p=l(98379),m=l.n(p),c={props:{src:{type:String,required:!0,default:""},poster:{type:String,default:""},volume:{type:Number,default:.8},controls:{type:Boolean,default:!0},isLive:{type:Boolean,default:!1},autoplay:{type:Boolean,default:!1},loop:{type:Boolean,default:!1},videoInit:{type:Boolean,default:!1},pip:{type:Boolean,default:!1},playbackRate:{type:[Array,String],default:()=>[.5,.75,1,1.5,2]},lastPlayTime:{type:Number,default:0},danmu:{type:[Array,String],default:""},resource:{type:Array,default:()=>[]},progressDot:{type:Array,default:()=>[]}},data(){return{player:null}},mounted(){this.isLive?this.initHls():this.init()},methods:{init(){this.player=new(d())({el:this.$refs.scVideo,url:this.src,fluid:!0,poster:this.poster,lang:"zh-cn",volume:this.volume,autoplay:this.autoplay,loop:this.loop,videoInit:this.videoInit,playbackRate:this.playbackRate,lastPlayTime:this.lastPlayTime,pip:this.pip,controls:this.controls,danmu:this.formatDanmu(this.danmu),progressDot:this.progressDot}),this.player.emit("resourceReady",this.resource)},initHls(){this.player=new(m())({el:this.$refs.scVideo,url:this.src,fluid:!0,poster:this.poster,isLive:!0,ignores:["time","progress"],lang:"zh-cn",volume:this.volume,pip:this.pip,controls:this.controls})},formatDanmu(e){if(!e)return!1;let t=[];return e.forEach((e=>{t.push({id:e.id||"",start:e.start||0,txt:e.txt||"",duration:1e4,mode:e.mode||"scroll",style:e.style||{}})})),{comments:t}}}},h=l(83744);const f=(0,h.Z)(c,[["render",u],["__scopeId","data-v-1347cc8e"]]);var y=f,v={name:"scvideo",components:{scVideo:y},data(){return{input:"",mode:"scroll",resource:[{name:"720P",url:"https://cdn.jsdelivr.net/gh/scuiadmin/CDN/video/scui-player-demo-720.mp4"},{name:"1080P",url:"https://cdn.jsdelivr.net/gh/scuiadmin/CDN/video/scui-player-demo-1080.mp4"}],progressDot:[{time:3,text:"标记文字"}],danmu:[{id:"1",start:3e3,txt:"SCUI VIDEO DEMO"},{id:"2",start:3e3,txt:"一键三连，下次一定"}]}},mounted(){},methods:{sendComment(){this.$refs.mp4.player.danmu&&this.input&&(this.$refs.mp4.player.danmu.sendComment({id:"newId"+(new Date).getTime(),start:1e3*this.$refs.mp4.player.currentTime,txt:this.input,mode:this.mode}),this.input="")}}};const g=(0,h.Z)(v,[["render",r]]);var w=g}}]);