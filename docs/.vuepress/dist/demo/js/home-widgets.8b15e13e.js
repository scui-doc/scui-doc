"use strict";(self["webpackChunkscui"]=self["webpackChunkscui"]||[]).push([[5642,2674,4281,1711,390,229],{21241:function(t,i,s){s.r(i),s.d(i,{default:function(){return F}});var e=s(66252),l=s(3577);const a=t=>((0,e.dD)("data-v-098df000"),t=t(),(0,e.Cn)(),t),o={class:"widgets-content"},n={class:"widgets-top"},d=a((()=>(0,e._)("div",{class:"widgets-top-title"}," 控制台 ",-1))),u={class:"widgets-top-actions"},c=(0,e.Uk)("完成"),r=(0,e.Uk)("自定义"),m={class:"widgets",ref:"widgets"},p={class:"widgets-wrapper"},g={key:0,class:"no-widgets"},f={class:"widgets-item"},w={key:0,class:"customize-overlay"},_={key:0,class:"widgets-aside"},h={class:"widgets-aside-title"},y=(0,e.Uk)("添加部件"),v={class:"selectLayout"},k=a((()=>(0,e._)("span",null,null,-1))),L=a((()=>(0,e._)("span",null,null,-1))),C=a((()=>(0,e._)("span",null,null,-1))),W=a((()=>(0,e._)("span",null,null,-1))),z=a((()=>(0,e._)("span",null,null,-1))),b=a((()=>(0,e._)("span",null,null,-1))),D=a((()=>(0,e._)("span",null,null,-1))),$=a((()=>(0,e._)("span",null,null,-1))),O=a((()=>(0,e._)("span",null,null,-1))),j={class:"widgets-list"},U={key:0,class:"widgets-list-nodata"},G={class:"item-logo"},N={class:"item-info"},T={class:"item-actions"},q=(0,e.Uk)("恢复默认");function x(t,i,s,a,x,J){const P=(0,e.up)("el-button"),S=(0,e.up)("el-empty"),V=(0,e.up)("el-icon"),I=(0,e.up)("draggable"),E=(0,e.up)("el-col"),F=(0,e.up)("el-row"),H=(0,e.up)("el-icon-circle-plus-filled"),K=(0,e.up)("el-icon-close"),Y=(0,e.up)("el-header"),A=(0,e.up)("el-main"),B=(0,e.up)("el-footer"),R=(0,e.up)("el-container");return(0,e.wg)(),(0,e.iD)("div",{class:(0,l.C_)(["widgets-home",x.customizing?"customizing":""]),ref:"main"},[(0,e._)("div",o,[(0,e._)("div",n,[d,(0,e._)("div",u,[x.customizing?((0,e.wg)(),(0,e.j4)(P,{key:0,type:"primary",icon:"el-icon-check",round:"",onClick:J.save},{default:(0,e.w5)((()=>[c])),_:1},8,["onClick"])):((0,e.wg)(),(0,e.j4)(P,{key:1,type:"primary",icon:"el-icon-edit",round:"",onClick:J.custom},{default:(0,e.w5)((()=>[r])),_:1},8,["onClick"]))])]),(0,e._)("div",m,[(0,e._)("div",p,[J.nowCompsList.length<=0?((0,e.wg)(),(0,e.iD)("div",g,[(0,e.Wm)(S,{image:"img/no-widgets.svg",description:"没有部件啦","image-size":280})])):(0,e.kq)("",!0),(0,e.Wm)(F,{gutter:15},{default:(0,e.w5)((()=>[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(x.grid.layout,((t,i)=>((0,e.wg)(),(0,e.j4)(E,{key:i,md:t,xs:24},{default:(0,e.w5)((()=>[(0,e.Wm)(I,{modelValue:x.grid.copmsList[i],"onUpdate:modelValue":t=>x.grid.copmsList[i]=t,animation:"200",handle:".customize-overlay",group:"people","item-key":"com",dragClass:"aaaaa","force-fallback":"",fallbackOnBody:"",class:"draggable-box"},{item:(0,e.w5)((({element:t})=>[(0,e._)("div",f,[((0,e.wg)(),(0,e.j4)((0,e.LL)(x.allComps[t]))),x.customizing?((0,e.wg)(),(0,e.iD)("div",w,[(0,e.Wm)(P,{class:"close",type:"danger",plain:"",icon:"el-icon-close",size:"small",onClick:i=>J.remove(t)},null,8,["onClick"]),(0,e._)("label",null,[(0,e.Wm)(V,null,{default:(0,e.w5)((()=>[((0,e.wg)(),(0,e.j4)((0,e.LL)(x.allComps[t].icon)))])),_:2},1024),(0,e.Uk)((0,l.zw)(x.allComps[t].title),1)])])):(0,e.kq)("",!0)])])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1032,["md"])))),128))])),_:1})])],512)]),x.customizing?((0,e.wg)(),(0,e.iD)("div",_,[(0,e.Wm)(R,null,{default:(0,e.w5)((()=>[(0,e.Wm)(Y,null,{default:(0,e.w5)((()=>[(0,e._)("div",h,[(0,e.Wm)(V,null,{default:(0,e.w5)((()=>[(0,e.Wm)(H)])),_:1}),y]),(0,e._)("div",{class:"widgets-aside-close",onClick:i[0]||(i[0]=t=>J.close())},[(0,e.Wm)(V,null,{default:(0,e.w5)((()=>[(0,e.Wm)(K)])),_:1})])])),_:1}),(0,e.Wm)(Y,{style:{height:"auto"}},{default:(0,e.w5)((()=>[(0,e._)("div",v,[(0,e._)("div",{class:(0,l.C_)(["selectLayout-item item01",{active:"12,6,6"==x.grid.layout.join(",")}]),onClick:i[1]||(i[1]=t=>J.setLayout([12,6,6]))},[(0,e.Wm)(F,{gutter:2},{default:(0,e.w5)((()=>[(0,e.Wm)(E,{span:12},{default:(0,e.w5)((()=>[k])),_:1}),(0,e.Wm)(E,{span:6},{default:(0,e.w5)((()=>[L])),_:1}),(0,e.Wm)(E,{span:6},{default:(0,e.w5)((()=>[C])),_:1})])),_:1})],2),(0,e._)("div",{class:(0,l.C_)(["selectLayout-item item02",{active:"24,16,8"==x.grid.layout.join(",")}]),onClick:i[2]||(i[2]=t=>J.setLayout([24,16,8]))},[(0,e.Wm)(F,{gutter:2},{default:(0,e.w5)((()=>[(0,e.Wm)(E,{span:24},{default:(0,e.w5)((()=>[W])),_:1}),(0,e.Wm)(E,{span:16},{default:(0,e.w5)((()=>[z])),_:1}),(0,e.Wm)(E,{span:8},{default:(0,e.w5)((()=>[b])),_:1})])),_:1})],2),(0,e._)("div",{class:(0,l.C_)(["selectLayout-item item03",{active:"24"==x.grid.layout.join(",")}]),onClick:i[3]||(i[3]=t=>J.setLayout([24]))},[(0,e.Wm)(F,{gutter:2},{default:(0,e.w5)((()=>[(0,e.Wm)(E,{span:24},{default:(0,e.w5)((()=>[D])),_:1}),(0,e.Wm)(E,{span:24},{default:(0,e.w5)((()=>[$])),_:1}),(0,e.Wm)(E,{span:24},{default:(0,e.w5)((()=>[O])),_:1})])),_:1})],2)])])),_:1}),(0,e.Wm)(A,{class:"nopadding"},{default:(0,e.w5)((()=>[(0,e._)("div",j,[J.myCompsList.length<=0?((0,e.wg)(),(0,e.iD)("div",U,[(0,e.Wm)(S,{description:"没有部件啦","image-size":60})])):(0,e.kq)("",!0),((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(J.myCompsList,(t=>((0,e.wg)(),(0,e.iD)("div",{key:t.title,class:"widgets-list-item"},[(0,e._)("div",G,[(0,e.Wm)(V,null,{default:(0,e.w5)((()=>[((0,e.wg)(),(0,e.j4)((0,e.LL)(t.icon)))])),_:2},1024)]),(0,e._)("div",N,[(0,e._)("h2",null,(0,l.zw)(t.title),1),(0,e._)("p",null,(0,l.zw)(t.description),1)]),(0,e._)("div",T,[(0,e.Wm)(P,{type:"primary",icon:"el-icon-plus",size:"small",onClick:i=>J.push(t)},null,8,["onClick"])])])))),128))])])),_:1}),(0,e.Wm)(B,{style:{height:"51px"}},{default:(0,e.w5)((()=>[(0,e.Wm)(P,{size:"small",onClick:i[4]||(i[4]=t=>J.backDefaul())},{default:(0,e.w5)((()=>[q])),_:1})])),_:1})])),_:1})])):(0,e.kq)("",!0)],2)}var J=s(9980),P=s.n(J),S=s(12856),V={components:{draggable:P()},data(){return{customizing:!1,allComps:S["default"],selectLayout:[],defaultGrid:this.$CONFIG.DEFAULT_GRID,grid:[]}},created(){this.grid=this.$TOOL.data.get("grid")||JSON.parse(JSON.stringify(this.defaultGrid))},mounted(){this.$emit("on-mounted")},computed:{allCompsList(){var t=[];for(var i in this.allComps)t.push({key:i,title:S["default"][i].title,icon:S["default"][i].icon,description:S["default"][i].description});var s=this.grid.copmsList.reduce((function(t,i){return t.concat(i)}));for(let e of t){const t=s.find((t=>t===e.key));t&&(e.disabled=!0)}return t},myCompsList(){return this.allCompsList.filter((t=>!t.disabled))},nowCompsList(){return this.grid.copmsList.reduce((function(t,i){return t.concat(i)}))}},methods:{custom(){this.customizing=!0;const t=this.$refs.widgets.offsetWidth;this.$nextTick((()=>{const i=this.$refs.widgets.offsetWidth/t;this.$refs.widgets.style.setProperty("transform",`scale(${i})`)}))},setLayout(t){this.grid.layout=t,"24"==t.join(",")&&(this.grid.copmsList[0]=[...this.grid.copmsList[0],...this.grid.copmsList[1],...this.grid.copmsList[2]],this.grid.copmsList[1]=[],this.grid.copmsList[2]=[])},push(t){let i=this.grid.copmsList[0];i.push(t.key)},remove(t){var i=this.grid.copmsList;i.forEach(((s,e)=>{var l=s.filter((i=>i!=t));i[e]=l}))},save(){this.customizing=!1,this.$refs.widgets.style.removeProperty("transform"),this.$TOOL.data.set("grid",this.grid)},backDefaul(){this.customizing=!1,this.$refs.widgets.style.removeProperty("transform"),this.grid=JSON.parse(JSON.stringify(this.defaultGrid)),this.$TOOL.data.remove("grid")},close(){this.customizing=!1,this.$refs.widgets.style.removeProperty("transform")}}},I=s(83744);const E=(0,I.Z)(V,[["render",x],["__scopeId","data-v-098df000"]]);var F=E}}]);