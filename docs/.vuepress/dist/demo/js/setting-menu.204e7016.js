(window.webpackJsonp=window.webpackJsonp||[]).push([["setting-menu"],{3969:function(e,t,n){"use strict";n("ebbe")},c584:function(e,t,n){"use strict";n.r(t);var o=n("7a23");Object(o.pushScopeId)("data-v-36a30e8e");var a={class:"custom-tree-node el-tree-node__label"},c={class:"label"},r={class:"do"},i=["onClick"];Object(o.popScopeId)();var l=n("1da1"),u=(n("96cf"),n("4de4"),n("b0c0"),n("99af"),n("159b"),n("0dc2")),s=1,d={name:"settingMenu",components:{save:u.default},data:function(){return{menuList:[],menuProps:{label:function(e){return e.meta.title}},menuFilterText:""}},watch:{menuFilterText:function(e){this.$refs.menu.filter(e)}},mounted:function(){this.getMenu()},methods:{getMenu:function(){var e=this;return Object(l.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$API.menu.list.get();case 2:n=t.sent,e.menuList=n.data;case 4:case"end":return t.stop()}}),t)})))()},menuClick:function(e,t){var n=1==t.level?void 0:t.parent.data.name;this.$refs.save.setData(e,n)},menuFilterNode:function(e,t){return!e||-1!==t.meta.title.indexOf(e)},nodeDrop:function(e,t,n){this.$message("拖拽对象：".concat(e.data.meta.title,", 释放对象：").concat(t.data.meta.title,", 释放对象的位置：").concat(n))},add:function(e){var t="未命名"+s++,n={name:t,path:"",component:"",meta:{title:t,type:"menu"}};if(e){this.$refs.menu.append(n,e);var o=e.childNodes[e.childNodes.length-1];this.$refs.menu.setCurrentKey(o.data.name);var a=e.data.name;this.$refs.save.setData(n,a)}else{this.$refs.menu.append(n);var c=this.menuList[this.menuList.length-1];this.$refs.menu.setCurrentKey(c.name),this.$refs.save.setData(n)}},delMenu:function(){var e=this,t=this.$refs.menu.getCheckedNodes();if(0==t.length)return this.$message.warning("请选择需要删除的项"),!1;t.forEach((function(t){e.$refs.menu.remove(t)}))}}};n("3969");d.render=function(e,t,n,l,u,s){var d=Object(o.resolveComponent)("el-input"),m=Object(o.resolveComponent)("el-header"),f=Object(o.resolveComponent)("el-tree"),p=Object(o.resolveComponent)("el-main"),b=Object(o.resolveComponent)("el-button"),h=Object(o.resolveComponent)("el-footer"),O=Object(o.resolveComponent)("el-container"),j=Object(o.resolveComponent)("el-aside"),v=Object(o.resolveComponent)("save");return Object(o.openBlock)(),Object(o.createBlock)(O,null,{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(j,{width:"300px"},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(O,null,{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(m,null,{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(d,{placeholder:"输入关键字进行过滤",modelValue:u.menuFilterText,"onUpdate:modelValue":t[0]||(t[0]=function(e){return u.menuFilterText=e}),clearable:""},null,8,["modelValue"])]})),_:1}),Object(o.createVNode)(p,{class:"nopadding"},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(f,{ref:"menu",class:"menu","node-key":"name",data:u.menuList,props:u.menuProps,draggable:"","highlight-current":"","expand-on-click-node":!1,"check-strictly":"","show-checkbox":"","filter-node-method":s.menuFilterNode,onNodeClick:s.menuClick,onNodeDrop:s.nodeDrop},{default:Object(o.withCtx)((function(e){var t=e.node,n=e.data;return[Object(o.createElementVNode)("span",a,[Object(o.createElementVNode)("span",c,Object(o.toDisplayString)(t.label),1),Object(o.createElementVNode)("span",r,[Object(o.createElementVNode)("i",{class:"el-icon-plus",onClick:Object(o.withModifiers)((function(e){return s.add(t,n)}),["stop"])},null,8,i)])])]})),_:1},8,["data","props","filter-node-method","onNodeClick","onNodeDrop"])]})),_:1}),Object(o.createVNode)(h,{style:{height:"51px"}},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(b,{type:"primary",size:"mini",icon:"el-icon-plus",onClick:t[1]||(t[1]=function(e){return s.add()})}),Object(o.createVNode)(b,{type:"danger",size:"mini",plain:"",icon:"el-icon-delete",onClick:s.delMenu},null,8,["onClick"])]})),_:1})]})),_:1})]})),_:1}),Object(o.createVNode)(O,null,{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(p,{class:"nopadding",style:{padding:"20px"}},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(v,{ref:"save",menu:u.menuList},null,8,["menu"])]})),_:1})]})),_:1})]})),_:1})},d.__scopeId="data-v-36a30e8e";t.default=d},ebbe:function(e,t,n){}}]);