(window.webpackJsonp=window.webpackJsonp||[]).push([["home-widgets"],{1630:function(e,t,c){"use strict";c("825aa")},"659f":function(e,t,c){"use strict";c.r(t);c("a4d3"),c("e01a");var o=c("7a23");Object(o.pushScopeId)("data-v-082aecca");var i={class:"widgets-content"},n={class:"widgets-top"},s=Object(o.createElementVNode)("div",{class:"widgets-top-title"}," 控制台 ",-1),r={class:"widgets-top-actions"},l=Object(o.createTextVNode)("完成"),a=Object(o.createTextVNode)("自定义"),d={class:"widgets",ref:"widgets"},m={class:"widgets-wrapper"},u={key:0,class:"no-widgets"},b={class:"widgets-item"},O={key:0,class:"customize-overlay"},p={key:0,class:"widgets-aside"},j=Object(o.createElementVNode)("div",{class:"widgets-aside-title"},[Object(o.createElementVNode)("i",{class:"el-icon-circle-plus"}),Object(o.createTextVNode)("添加部件")],-1),f=[Object(o.createElementVNode)("i",{class:"el-icon-close"},null,-1)],g={class:"widgets-list"},h={key:0,class:"widgets-list-nodata"},v={class:"item-logo"},k={class:"item-info"},C={class:"item-actions"},N=Object(o.createTextVNode)("恢复默认");Object(o.popScopeId)();c("99af"),c("7db0"),c("4de4"),c("159b");var w=c("b76a"),y=c.n(w),V=c("9755"),E={components:{draggable:y.a},data:function(){return{customizing:!1,allComps:V.default,selectLayout:[],defaultGrid:this.$CONFIG.DEFAULT_GRID,grid:[]}},created:function(){this.grid=this.$TOOL.data.get("grid")||JSON.parse(JSON.stringify(this.defaultGrid))},mounted:function(){this.$emit("on-mounted")},computed:{allCompsList:function(){var e=[];for(var t in this.allComps)e.push({key:t,title:V.default[t].title,icon:V.default[t].icon,description:V.default[t].description});for(var c=this.grid.copmsList.reduce((function(e,t){return e.concat(t)})),o=function(){var e=n[i];c.find((function(t){return t===e.key}))&&(e.disabled=!0)},i=0,n=e;i<n.length;i++)o();return e},myCompsList:function(){return this.allCompsList.filter((function(e){return!e.disabled}))},nowCompsList:function(){return this.grid.copmsList.reduce((function(e,t){return e.concat(t)}))}},methods:{custom:function(){var e=this;this.customizing=!0;var t=this.$refs.widgets.offsetWidth;this.$nextTick((function(){var c=e.$refs.widgets.offsetWidth/t;e.$refs.widgets.style.setProperty("transform","scale(".concat(c,")"))}))},push:function(e){var t=this.grid.copmsList[0];0==this.grid.copmsList[0].length?t=this.grid.copmsList[0]:0==this.grid.copmsList[1].length?t=this.grid.copmsList[1]:0==this.grid.copmsList[2].length&&(t=this.grid.copmsList[2]),t.push(e.key)},remove:function(e){var t=this.grid.copmsList;t.forEach((function(c,o){var i=c.filter((function(t){return t!=e}));t[o]=i}))},save:function(){this.customizing=!1,this.$refs.widgets.style.removeProperty("transform"),this.$TOOL.data.set("grid",this.grid)},backDefaul:function(){this.customizing=!1,this.$refs.widgets.style.removeProperty("transform"),this.grid=JSON.parse(JSON.stringify(this.defaultGrid)),this.$TOOL.data.remove("grid")},close:function(){this.customizing=!1,this.$refs.widgets.style.removeProperty("transform")}}};c("1630");E.render=function(e,t,c,w,y,V){var E=Object(o.resolveComponent)("el-button"),L=Object(o.resolveComponent)("el-empty"),B=Object(o.resolveComponent)("draggable"),z=Object(o.resolveComponent)("el-col"),x=Object(o.resolveComponent)("el-row"),_=Object(o.resolveComponent)("el-header"),$=Object(o.resolveComponent)("el-main"),T=Object(o.resolveComponent)("el-footer"),S=Object(o.resolveComponent)("el-container");return Object(o.openBlock)(),Object(o.createElementBlock)("div",{class:Object(o.normalizeClass)(["widgets-home",y.customizing?"customizing":""]),ref:"main"},[Object(o.createElementVNode)("div",i,[Object(o.createElementVNode)("div",n,[s,Object(o.createElementVNode)("div",r,[y.customizing?(Object(o.openBlock)(),Object(o.createBlock)(E,{key:0,type:"primary",icon:"el-icon-check",round:"",onClick:V.save},{default:Object(o.withCtx)((function(){return[l]})),_:1},8,["onClick"])):(Object(o.openBlock)(),Object(o.createBlock)(E,{key:1,type:"primary",icon:"el-icon-edit",round:"",onClick:V.custom},{default:Object(o.withCtx)((function(){return[a]})),_:1},8,["onClick"]))])]),Object(o.createElementVNode)("div",d,[Object(o.createElementVNode)("div",m,[V.nowCompsList.length<=0?(Object(o.openBlock)(),Object(o.createElementBlock)("div",u,[Object(o.createVNode)(L,{image:"img/no-widgets.svg",description:"没有部件啦","image-size":280})])):Object(o.createCommentVNode)("",!0),Object(o.createVNode)(x,{gutter:15},{default:Object(o.withCtx)((function(){return[(Object(o.openBlock)(!0),Object(o.createElementBlock)(o.Fragment,null,Object(o.renderList)(y.grid.layout,(function(e,t){return Object(o.openBlock)(),Object(o.createBlock)(z,{key:t,md:e,xs:24},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(B,{modelValue:y.grid.copmsList[t],"onUpdate:modelValue":function(e){return y.grid.copmsList[t]=e},animation:"200",handle:".customize-overlay",group:"people","item-key":"com",dragClass:"aaaaa","force-fallback":"",fallbackOnBody:"",class:"draggable-box"},{item:Object(o.withCtx)((function(e){var t=e.element;return[Object(o.createElementVNode)("div",b,[(Object(o.openBlock)(),Object(o.createBlock)(Object(o.resolveDynamicComponent)(y.allComps[t]))),y.customizing?(Object(o.openBlock)(),Object(o.createElementBlock)("div",O,[Object(o.createVNode)(E,{class:"close",type:"danger",plain:"",icon:"el-icon-close",size:"small",onClick:function(e){return V.remove(t)}},null,8,["onClick"]),Object(o.createElementVNode)("label",null,[Object(o.createElementVNode)("i",{class:Object(o.normalizeClass)(y.allComps[t].icon)},null,2),Object(o.createTextVNode)(Object(o.toDisplayString)(y.allComps[t].title),1)])])):Object(o.createCommentVNode)("",!0)])]})),_:2},1032,["modelValue","onUpdate:modelValue"])]})),_:2},1032,["md"])})),128))]})),_:1})])],512)]),y.customizing?(Object(o.openBlock)(),Object(o.createElementBlock)("div",p,[Object(o.createVNode)(S,null,{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(_,{style:{border:"0"}},{default:Object(o.withCtx)((function(){return[j,Object(o.createElementVNode)("div",{class:"widgets-aside-close",onClick:t[0]||(t[0]=function(e){return V.close()})},f)]})),_:1}),Object(o.createVNode)($,{class:"nopadding"},{default:Object(o.withCtx)((function(){return[Object(o.createElementVNode)("div",g,[V.myCompsList.length<=0?(Object(o.openBlock)(),Object(o.createElementBlock)("div",h,[Object(o.createVNode)(L,{description:"没有部件啦","image-size":60})])):Object(o.createCommentVNode)("",!0),(Object(o.openBlock)(!0),Object(o.createElementBlock)(o.Fragment,null,Object(o.renderList)(V.myCompsList,(function(e){return Object(o.openBlock)(),Object(o.createElementBlock)("div",{key:e.title,class:"widgets-list-item"},[Object(o.createElementVNode)("div",v,[Object(o.createElementVNode)("i",{class:Object(o.normalizeClass)(e.icon)},null,2)]),Object(o.createElementVNode)("div",k,[Object(o.createElementVNode)("h2",null,Object(o.toDisplayString)(e.title),1),Object(o.createElementVNode)("p",null,Object(o.toDisplayString)(e.description),1)]),Object(o.createElementVNode)("div",C,[Object(o.createVNode)(E,{type:"primary",icon:"el-icon-plus",size:"small",onClick:function(t){return V.push(e)}},null,8,["onClick"])])])})),128))])]})),_:1}),Object(o.createVNode)(T,{style:{height:"51px"}},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(E,{size:"mini",onClick:t[1]||(t[1]=function(e){return V.backDefaul()})},{default:Object(o.withCtx)((function(){return[N]})),_:1})]})),_:1})]})),_:1})])):Object(o.createCommentVNode)("",!0)],2)},E.__scopeId="data-v-082aecca";t.default=E},"825aa":function(e,t,c){}}]);