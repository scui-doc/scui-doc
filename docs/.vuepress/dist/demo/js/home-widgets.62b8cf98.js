(window.webpackJsonp=window.webpackJsonp||[]).push([["home-widgets"],{"659f":function(e,t,c){"use strict";c.r(t);c("a15b"),c("a4d3"),c("e01a");var n=c("7a23"),o=function(e){return Object(n.pushScopeId)("data-v-5ea30e96"),e=e(),Object(n.popScopeId)(),e},i={class:"widgets-content"},r={class:"widgets-top"},l=o((function(){return Object(n.createElementVNode)("div",{class:"widgets-top-title"}," 控制台 ",-1)})),a={class:"widgets-top-actions"},s=Object(n.createTextVNode)("完成"),u=Object(n.createTextVNode)("自定义"),d={class:"widgets",ref:"widgets"},m={class:"widgets-wrapper"},b={key:0,class:"no-widgets"},O={class:"widgets-item"},j={key:0,class:"customize-overlay"},f={key:0,class:"widgets-aside"},p=o((function(){return Object(n.createElementVNode)("div",{class:"widgets-aside-title"},[Object(n.createElementVNode)("i",{class:"el-icon-circle-plus"}),Object(n.createTextVNode)("添加部件")],-1)})),g=[o((function(){return Object(n.createElementVNode)("i",{class:"el-icon-close"},null,-1)}))],h={class:"selectLayout"},N=o((function(){return Object(n.createElementVNode)("span",null,null,-1)})),C=o((function(){return Object(n.createElementVNode)("span",null,null,-1)})),V=o((function(){return Object(n.createElementVNode)("span",null,null,-1)})),v=o((function(){return Object(n.createElementVNode)("span",null,null,-1)})),k=o((function(){return Object(n.createElementVNode)("span",null,null,-1)})),w=o((function(){return Object(n.createElementVNode)("span",null,null,-1)})),y=o((function(){return Object(n.createElementVNode)("span",null,null,-1)})),E=o((function(){return Object(n.createElementVNode)("span",null,null,-1)})),L=o((function(){return Object(n.createElementVNode)("span",null,null,-1)})),x={class:"widgets-list"},_={key:0,class:"widgets-list-nodata"},B={class:"item-logo"},z={class:"item-info"},$={class:"item-actions"},T=Object(n.createTextVNode)("恢复默认");var S=c("2909"),D=(c("99af"),c("7db0"),c("4de4"),c("159b"),c("b76a")),J=c.n(D),G=c("9755"),I={components:{draggable:J.a},data:function(){return{customizing:!1,allComps:G.default,selectLayout:[],defaultGrid:this.$CONFIG.DEFAULT_GRID,grid:[]}},created:function(){this.grid=this.$TOOL.data.get("grid")||JSON.parse(JSON.stringify(this.defaultGrid))},mounted:function(){this.$emit("on-mounted")},computed:{allCompsList:function(){var e=[];for(var t in this.allComps)e.push({key:t,title:G.default[t].title,icon:G.default[t].icon,description:G.default[t].description});for(var c=this.grid.copmsList.reduce((function(e,t){return e.concat(t)})),n=function(){var e=i[o];c.find((function(t){return t===e.key}))&&(e.disabled=!0)},o=0,i=e;o<i.length;o++)n();return e},myCompsList:function(){return this.allCompsList.filter((function(e){return!e.disabled}))},nowCompsList:function(){return this.grid.copmsList.reduce((function(e,t){return e.concat(t)}))}},methods:{custom:function(){var e=this;this.customizing=!0;var t=this.$refs.widgets.offsetWidth;this.$nextTick((function(){var c=e.$refs.widgets.offsetWidth/t;e.$refs.widgets.style.setProperty("transform","scale(".concat(c,")"))}))},setLayout:function(e){this.grid.layout=e,"24"==e.join(",")&&(this.grid.copmsList[0]=[].concat(Object(S.a)(this.grid.copmsList[0]),Object(S.a)(this.grid.copmsList[1]),Object(S.a)(this.grid.copmsList[2])),this.grid.copmsList[1]=[],this.grid.copmsList[2]=[])},push:function(e){this.grid.copmsList[0].push(e.key)},remove:function(e){var t=this.grid.copmsList;t.forEach((function(c,n){var o=c.filter((function(t){return t!=e}));t[n]=o}))},save:function(){this.customizing=!1,this.$refs.widgets.style.removeProperty("transform"),this.$TOOL.data.set("grid",this.grid)},backDefaul:function(){this.customizing=!1,this.$refs.widgets.style.removeProperty("transform"),this.grid=JSON.parse(JSON.stringify(this.defaultGrid)),this.$TOOL.data.remove("grid")},close:function(){this.customizing=!1,this.$refs.widgets.style.removeProperty("transform")}}},F=(c("f785"),c("6b0d"));const P=c.n(F)()(I,[["render",function(e,t,c,o,S,D){var J=Object(n.resolveComponent)("el-button"),G=Object(n.resolveComponent)("el-empty"),I=Object(n.resolveComponent)("draggable"),F=Object(n.resolveComponent)("el-col"),P=Object(n.resolveComponent)("el-row"),U=Object(n.resolveComponent)("el-header"),W=Object(n.resolveComponent)("el-main"),A=Object(n.resolveComponent)("el-footer"),R=Object(n.resolveComponent)("el-container");return Object(n.openBlock)(),Object(n.createElementBlock)("div",{class:Object(n.normalizeClass)(["widgets-home",S.customizing?"customizing":""]),ref:"main"},[Object(n.createElementVNode)("div",i,[Object(n.createElementVNode)("div",r,[l,Object(n.createElementVNode)("div",a,[S.customizing?(Object(n.openBlock)(),Object(n.createBlock)(J,{key:0,type:"primary",icon:"el-icon-check",round:"",onClick:D.save},{default:Object(n.withCtx)((function(){return[s]})),_:1},8,["onClick"])):(Object(n.openBlock)(),Object(n.createBlock)(J,{key:1,type:"primary",icon:"el-icon-edit",round:"",onClick:D.custom},{default:Object(n.withCtx)((function(){return[u]})),_:1},8,["onClick"]))])]),Object(n.createElementVNode)("div",d,[Object(n.createElementVNode)("div",m,[D.nowCompsList.length<=0?(Object(n.openBlock)(),Object(n.createElementBlock)("div",b,[Object(n.createVNode)(G,{image:"img/no-widgets.svg",description:"没有部件啦","image-size":280})])):Object(n.createCommentVNode)("",!0),Object(n.createVNode)(P,{gutter:15},{default:Object(n.withCtx)((function(){return[(Object(n.openBlock)(!0),Object(n.createElementBlock)(n.Fragment,null,Object(n.renderList)(S.grid.layout,(function(e,t){return Object(n.openBlock)(),Object(n.createBlock)(F,{key:t,md:e,xs:24},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)(I,{modelValue:S.grid.copmsList[t],"onUpdate:modelValue":function(e){return S.grid.copmsList[t]=e},animation:"200",handle:".customize-overlay",group:"people","item-key":"com",dragClass:"aaaaa","force-fallback":"",fallbackOnBody:"",class:"draggable-box"},{item:Object(n.withCtx)((function(e){var t=e.element;return[Object(n.createElementVNode)("div",O,[(Object(n.openBlock)(),Object(n.createBlock)(Object(n.resolveDynamicComponent)(S.allComps[t]))),S.customizing?(Object(n.openBlock)(),Object(n.createElementBlock)("div",j,[Object(n.createVNode)(J,{class:"close",type:"danger",plain:"",icon:"el-icon-close",size:"small",onClick:function(e){return D.remove(t)}},null,8,["onClick"]),Object(n.createElementVNode)("label",null,[Object(n.createElementVNode)("i",{class:Object(n.normalizeClass)(S.allComps[t].icon)},null,2),Object(n.createTextVNode)(Object(n.toDisplayString)(S.allComps[t].title),1)])])):Object(n.createCommentVNode)("",!0)])]})),_:2},1032,["modelValue","onUpdate:modelValue"])]})),_:2},1032,["md"])})),128))]})),_:1})])],512)]),S.customizing?(Object(n.openBlock)(),Object(n.createElementBlock)("div",f,[Object(n.createVNode)(R,null,{default:Object(n.withCtx)((function(){return[Object(n.createVNode)(U,null,{default:Object(n.withCtx)((function(){return[p,Object(n.createElementVNode)("div",{class:"widgets-aside-close",onClick:t[0]||(t[0]=function(e){return D.close()})},g)]})),_:1}),Object(n.createVNode)(U,{style:{height:"auto"}},{default:Object(n.withCtx)((function(){return[Object(n.createElementVNode)("div",h,[Object(n.createElementVNode)("div",{class:Object(n.normalizeClass)(["selectLayout-item item01",{active:"12,6,6"==S.grid.layout.join(",")}]),onClick:t[1]||(t[1]=function(e){return D.setLayout([12,6,6])})},[Object(n.createVNode)(P,{gutter:2},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)(F,{span:12},{default:Object(n.withCtx)((function(){return[N]})),_:1}),Object(n.createVNode)(F,{span:6},{default:Object(n.withCtx)((function(){return[C]})),_:1}),Object(n.createVNode)(F,{span:6},{default:Object(n.withCtx)((function(){return[V]})),_:1})]})),_:1})],2),Object(n.createElementVNode)("div",{class:Object(n.normalizeClass)(["selectLayout-item item02",{active:"24,16,8"==S.grid.layout.join(",")}]),onClick:t[2]||(t[2]=function(e){return D.setLayout([24,16,8])})},[Object(n.createVNode)(P,{gutter:2},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)(F,{span:24},{default:Object(n.withCtx)((function(){return[v]})),_:1}),Object(n.createVNode)(F,{span:16},{default:Object(n.withCtx)((function(){return[k]})),_:1}),Object(n.createVNode)(F,{span:8},{default:Object(n.withCtx)((function(){return[w]})),_:1})]})),_:1})],2),Object(n.createElementVNode)("div",{class:Object(n.normalizeClass)(["selectLayout-item item03",{active:"24"==S.grid.layout.join(",")}]),onClick:t[3]||(t[3]=function(e){return D.setLayout([24])})},[Object(n.createVNode)(P,{gutter:2},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)(F,{span:24},{default:Object(n.withCtx)((function(){return[y]})),_:1}),Object(n.createVNode)(F,{span:24},{default:Object(n.withCtx)((function(){return[E]})),_:1}),Object(n.createVNode)(F,{span:24},{default:Object(n.withCtx)((function(){return[L]})),_:1})]})),_:1})],2)])]})),_:1}),Object(n.createVNode)(W,{class:"nopadding"},{default:Object(n.withCtx)((function(){return[Object(n.createElementVNode)("div",x,[D.myCompsList.length<=0?(Object(n.openBlock)(),Object(n.createElementBlock)("div",_,[Object(n.createVNode)(G,{description:"没有部件啦","image-size":60})])):Object(n.createCommentVNode)("",!0),(Object(n.openBlock)(!0),Object(n.createElementBlock)(n.Fragment,null,Object(n.renderList)(D.myCompsList,(function(e){return Object(n.openBlock)(),Object(n.createElementBlock)("div",{key:e.title,class:"widgets-list-item"},[Object(n.createElementVNode)("div",B,[Object(n.createElementVNode)("i",{class:Object(n.normalizeClass)(e.icon)},null,2)]),Object(n.createElementVNode)("div",z,[Object(n.createElementVNode)("h2",null,Object(n.toDisplayString)(e.title),1),Object(n.createElementVNode)("p",null,Object(n.toDisplayString)(e.description),1)]),Object(n.createElementVNode)("div",$,[Object(n.createVNode)(J,{type:"primary",icon:"el-icon-plus",size:"small",onClick:function(t){return D.push(e)}},null,8,["onClick"])])])})),128))])]})),_:1}),Object(n.createVNode)(A,{style:{height:"51px"}},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)(J,{size:"mini",onClick:t[4]||(t[4]=function(e){return D.backDefaul()})},{default:Object(n.withCtx)((function(){return[T]})),_:1})]})),_:1})]})),_:1})])):Object(n.createCommentVNode)("",!0)],2)}],["__scopeId","data-v-5ea30e96"]]);t.default=P},bc81:function(e,t,c){},f785:function(e,t,c){"use strict";c("bc81")}}]);