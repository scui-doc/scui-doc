(window.webpackJsonp=window.webpackJsonp||[]).push([["setting-user-save"],{"113d":function(e,t,r){"use strict";r.r(t);r("b0c0");var o=r("7a23"),a=Object(o.createTextVNode)("取 消"),n=Object(o.createTextVNode)("保 存");var l=r("c7eb"),c=r("1da1"),s=(r("d9e2"),{emits:["success","closed"],data:function(){var e=this;return{mode:"add",titleMap:{add:"新增用户",edit:"编辑用户",show:"查看"},visible:!1,isSaveing:!1,form:{id:"",userName:"",avatar:"",name:"",dept:"",group:[]},rules:{avatar:[{required:!0,message:"请上传头像"}],userName:[{required:!0,message:"请输入登录账号"}],name:[{required:!0,message:"请输入真实姓名"}],password:[{required:!0,message:"请输入登录密码"},{validator:function(t,r,o){""!==e.form.password2&&e.$refs.dialogForm.validateField("password2"),o()}}],password2:[{required:!0,message:"请再次输入密码"},{validator:function(t,r,o){r!==e.form.password?o(new Error("两次输入密码不一致!")):o()}}],dept:[{required:!0,message:"请选择所属部门"}],group:[{required:!0,message:"请选择所属角色",trigger:"change"}]},groups:[],groupsProps:{value:"id",multiple:!0,checkStrictly:!0},depts:[],deptsProps:{value:"id",checkStrictly:!0}}},mounted:function(){this.getGroup(),this.getDept()},methods:{open:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"add";return this.mode=e,this.visible=!0,this},getGroup:function(){var e=this;return Object(c.a)(Object(l.a)().mark((function t(){var r;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$API.system.role.list.get();case 2:r=t.sent,e.groups=r.data.rows;case 4:case"end":return t.stop()}}),t)})))()},getDept:function(){var e=this;return Object(c.a)(Object(l.a)().mark((function t(){var r;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$API.system.dept.list.get();case 2:r=t.sent,e.depts=r.data;case 4:case"end":return t.stop()}}),t)})))()},submit:function(){var e=this;this.$refs.dialogForm.validate(function(){var t=Object(c.a)(Object(l.a)().mark((function t(r){var o;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=9;break}return e.isSaveing=!0,t.next=4,e.$API.demo.post.post(e.form);case 4:o=t.sent,e.isSaveing=!1,200==o.code?(e.$emit("success",e.form,e.mode),e.visible=!1,e.$message.success("操作成功")):e.$alert(o.message,"提示",{type:"error"}),t.next=10;break;case 9:return t.abrupt("return",!1);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},setData:function(e){this.form.id=e.id,this.form.userName=e.userName,this.form.avatar=e.avatar,this.form.name=e.name,this.form.group=e.group,this.form.dept=e.dept}}}),u=r("6b0d");const d=r.n(u)()(s,[["render",function(e,t,r,l,c,s){var u=Object(o.resolveComponent)("sc-upload"),d=Object(o.resolveComponent)("el-form-item"),i=Object(o.resolveComponent)("el-input"),p=Object(o.resolveComponent)("el-cascader"),m=Object(o.resolveComponent)("el-option"),b=Object(o.resolveComponent)("el-select"),f=Object(o.resolveComponent)("el-form"),j=Object(o.resolveComponent)("el-button"),O=Object(o.resolveComponent)("el-dialog");return Object(o.openBlock)(),Object(o.createBlock)(O,{title:c.titleMap[c.mode],modelValue:c.visible,"onUpdate:modelValue":t[9]||(t[9]=function(e){return c.visible=e}),width:500,"destroy-on-close":"",onClosed:t[10]||(t[10]=function(t){return e.$emit("closed")})},{footer:Object(o.withCtx)((function(){return[Object(o.createVNode)(j,{onClick:t[7]||(t[7]=function(e){return c.visible=!1})},{default:Object(o.withCtx)((function(){return[a]})),_:1}),"show"!=c.mode?(Object(o.openBlock)(),Object(o.createBlock)(j,{key:0,type:"primary",loading:c.isSaveing,onClick:t[8]||(t[8]=function(e){return s.submit()})},{default:Object(o.withCtx)((function(){return[n]})),_:1},8,["loading"])):Object(o.createCommentVNode)("",!0)]})),default:Object(o.withCtx)((function(){return[Object(o.createVNode)(f,{model:c.form,rules:c.rules,disabled:"show"==c.mode,ref:"dialogForm","label-width":"100px","label-position":"left"},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(d,{label:"头像",prop:"avatar"},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(u,{modelValue:c.form.avatar,"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.form.avatar=e}),title:"上传头像"},null,8,["modelValue"])]})),_:1}),Object(o.createVNode)(d,{label:"登录账号",prop:"userName"},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(i,{modelValue:c.form.userName,"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.form.userName=e}),placeholder:"用于登录系统",clearable:""},null,8,["modelValue"])]})),_:1}),Object(o.createVNode)(d,{label:"姓名",prop:"name"},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(i,{modelValue:c.form.name,"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.form.name=e}),placeholder:"请输入完整的真实姓名",clearable:""},null,8,["modelValue"])]})),_:1}),"add"==c.mode?(Object(o.openBlock)(),Object(o.createElementBlock)(o.Fragment,{key:0},[Object(o.createVNode)(d,{label:"登录密码",prop:"password"},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(i,{type:"password",modelValue:c.form.password,"onUpdate:modelValue":t[3]||(t[3]=function(e){return c.form.password=e}),clearable:"","show-password":""},null,8,["modelValue"])]})),_:1}),Object(o.createVNode)(d,{label:"确认密码",prop:"password2"},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(i,{type:"password",modelValue:c.form.password2,"onUpdate:modelValue":t[4]||(t[4]=function(e){return c.form.password2=e}),clearable:"","show-password":""},null,8,["modelValue"])]})),_:1})],64)):Object(o.createCommentVNode)("",!0),Object(o.createVNode)(d,{label:"所属部门",prop:"dept"},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(p,{modelValue:c.form.dept,"onUpdate:modelValue":t[5]||(t[5]=function(e){return c.form.dept=e}),options:c.depts,props:c.deptsProps,clearable:"",style:{width:"100%"}},null,8,["modelValue","options","props"])]})),_:1}),Object(o.createVNode)(d,{label:"所属角色",prop:"group"},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(b,{modelValue:c.form.group,"onUpdate:modelValue":t[6]||(t[6]=function(e){return c.form.group=e}),multiple:"",filterable:"",style:{width:"100%"}},{default:Object(o.withCtx)((function(){return[(Object(o.openBlock)(!0),Object(o.createElementBlock)(o.Fragment,null,Object(o.renderList)(c.groups,(function(e){return Object(o.openBlock)(),Object(o.createBlock)(m,{key:e.id,label:e.label,value:e.id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1})]})),_:1},8,["model","rules","disabled"])]})),_:1},8,["title","modelValue"])}]]);t.default=d}}]);