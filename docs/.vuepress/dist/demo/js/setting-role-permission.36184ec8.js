(window.webpackJsonp=window.webpackJsonp||[]).push([["setting-role-permission"],{"0074":function(e,t,a){},"73f2":function(e,t,a){"use strict";a.r(t);var n=a("7a23"),c={class:"treeMain"},o={class:"treeMain",style:{width:"100%"}},r={style:{float:"left"}},l={style:{float:"right",color:"#8492a6","font-size":"12px"}},i=function(e){return Object(n.pushScopeId)("data-v-f3787a4a"),e=e(),Object(n.popScopeId)(),e}((function(){return Object(n.createElementVNode)("div",{class:"el-form-item-msg"},"用于控制角色登录后控制台的视图",-1)})),u=Object(n.createTextVNode)("取 消"),s=Object(n.createTextVNode)("保 存");var d=a("c7eb"),b=a("1da1"),f=(a("99af"),a("4de4"),a("d3b7"),{emits:["success","closed"],data:function(){return{visible:!1,isSaveing:!1,menu:{list:[],checked:[],props:{label:function(e){return e.meta.title}}},data:{dataType:"1",list:[],checked:[],props:{},rule:""},dashboard:"0",dashboardOptions:[{value:"0",label:"数据统计",views:"stats"},{value:"1",label:"工作台",views:"work"}]}},mounted:function(){this.getMenu(),this.getDept()},methods:{open:function(){this.visible=!0},submit:function(){var e=this;this.isSaveing=!0;var t=this.$refs.menu.getCheckedKeys().concat(this.$refs.menu.getHalfCheckedKeys());console.log(t);var a=this.$refs.dept.getCheckedKeys().concat(this.$refs.dept.getHalfCheckedKeys());console.log(a),setTimeout((function(){e.isSaveing=!1,e.visible=!1,e.$message.success("操作成功"),e.$emit("success")}),1e3)},getMenu:function(){var e=this;return Object(b.a)(Object(d.a)().mark((function t(){var a;return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$API.system.menu.list.get();case 2:a=t.sent,e.menu.list=a.data,e.menu.checked=["system","user","user.add","user.edit","user.del","directive.edit","other","directive"],e.$nextTick((function(){var t=e.menu.checked.filter((function(t){return e.$refs.menu.getNode(t).isLeaf}));e.$refs.menu.setCheckedKeys(t,!0)}));case 6:case"end":return t.stop()}}),t)})))()},getDept:function(){var e=this;return Object(b.a)(Object(d.a)().mark((function t(){var a;return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$API.system.dept.list.get();case 2:a=t.sent,e.data.list=a.data,e.data.checked=["12","2","21","22","1"],e.$nextTick((function(){var t=e.data.checked.filter((function(t){return e.$refs.dept.getNode(t).isLeaf}));e.$refs.dept.setCheckedKeys(t,!0)}));case 6:case"end":return t.stop()}}),t)})))()}}}),p=(a("a999"),a("6b0d"));const O=a.n(p)()(f,[["render",function(e,t,a,d,b,f){var p=Object(n.resolveComponent)("el-tree"),O=Object(n.resolveComponent)("el-tab-pane"),j=Object(n.resolveComponent)("el-option"),h=Object(n.resolveComponent)("el-select"),m=Object(n.resolveComponent)("el-form-item"),v=Object(n.resolveComponent)("el-input"),w=Object(n.resolveComponent)("el-form"),V=Object(n.resolveComponent)("el-tabs"),C=Object(n.resolveComponent)("el-button"),k=Object(n.resolveComponent)("el-dialog");return Object(n.openBlock)(),Object(n.createBlock)(k,{title:"角色权限设置",modelValue:b.visible,"onUpdate:modelValue":t[5]||(t[5]=function(e){return b.visible=e}),width:500,"destroy-on-close":"",onClosed:t[6]||(t[6]=function(t){return e.$emit("closed")})},{footer:Object(n.withCtx)((function(){return[Object(n.createVNode)(C,{onClick:t[3]||(t[3]=function(e){return b.visible=!1})},{default:Object(n.withCtx)((function(){return[u]})),_:1}),Object(n.createVNode)(C,{type:"primary",loading:b.isSaveing,onClick:t[4]||(t[4]=function(e){return f.submit()})},{default:Object(n.withCtx)((function(){return[s]})),_:1},8,["loading"])]})),default:Object(n.withCtx)((function(){return[Object(n.createVNode)(V,{"tab-position":"top"},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)(O,{label:"菜单权限"},{default:Object(n.withCtx)((function(){return[Object(n.createElementVNode)("div",c,[Object(n.createVNode)(p,{ref:"menu","node-key":"name",data:b.menu.list,props:b.menu.props,"show-checkbox":""},null,8,["data","props"])])]})),_:1}),Object(n.createVNode)(O,{label:"数据权限"},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)(w,{"label-width":"100px","label-position":"left"},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)(m,{label:"规则类型"},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)(h,{modelValue:b.data.dataType,"onUpdate:modelValue":t[0]||(t[0]=function(e){return b.data.dataType=e}),placeholder:"请选择"},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)(j,{label:"全部可见",value:"1"}),Object(n.createVNode)(j,{label:"本人可见",value:"2"}),Object(n.createVNode)(j,{label:"所在部门可见",value:"3"}),Object(n.createVNode)(j,{label:"所在部门及子级可见",value:"4"}),Object(n.createVNode)(j,{label:"选择的部门可见",value:"5"}),Object(n.createVNode)(j,{label:"自定义",value:"6"})]})),_:1},8,["modelValue"])]})),_:1}),Object(n.withDirectives)(Object(n.createVNode)(m,{label:"选择部门"},{default:Object(n.withCtx)((function(){return[Object(n.createElementVNode)("div",o,[Object(n.createVNode)(p,{ref:"dept","node-key":"id",data:b.data.list,props:b.data.props,"show-checkbox":""},null,8,["data","props"])])]})),_:1},512),[[n.vShow,"5"==b.data.dataType]]),Object(n.withDirectives)(Object(n.createVNode)(m,{label:"规则值"},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)(v,{modelValue:b.data.rule,"onUpdate:modelValue":t[1]||(t[1]=function(e){return b.data.rule=e}),clearable:"",type:"textarea",rows:6,placeholder:"请输入自定义规则代码"},null,8,["modelValue"])]})),_:1},512),[[n.vShow,"6"==b.data.dataType]])]})),_:1})]})),_:1}),Object(n.createVNode)(O,{label:"控制台"},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)(w,{"label-width":"100px","label-position":"left"},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)(m,{label:"控制台视图"},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)(h,{modelValue:b.dashboard,"onUpdate:modelValue":t[2]||(t[2]=function(e){return b.dashboard=e}),placeholder:"请选择"},{default:Object(n.withCtx)((function(){return[(Object(n.openBlock)(!0),Object(n.createElementBlock)(n.Fragment,null,Object(n.renderList)(b.dashboardOptions,(function(e){return Object(n.openBlock)(),Object(n.createBlock)(j,{key:e.value,label:e.label,value:e.value},{default:Object(n.withCtx)((function(){return[Object(n.createElementVNode)("span",r,Object(n.toDisplayString)(e.label),1),Object(n.createElementVNode)("span",l,Object(n.toDisplayString)(e.views),1)]})),_:2},1032,["label","value"])})),128))]})),_:1},8,["modelValue"]),i]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1},8,["modelValue"])}],["__scopeId","data-v-f3787a4a"]]);t.default=O},a999:function(e,t,a){"use strict";a("0074")}}]);