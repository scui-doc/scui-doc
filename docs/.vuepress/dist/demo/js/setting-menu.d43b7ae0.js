(window.webpackJsonp=window.webpackJsonp||[]).push([["setting-menu","setting-menu-save"],{"0dc2":function(e,t,n){"use strict";n.r(t);n("b0c0");var o=n("7a23"),r=Object(o.withScopeId)("data-v-3e85ca4f");Object(o.pushScopeId)("data-v-3e85ca4f");var a=Object(o.createVNode)("div",{class:"el-form-item-msg"},"这里还有点问题！el-cascader的props的label 现暂只支持字符串还未支持自定义函数 ",-1),c=Object(o.createTextVNode)("菜单"),l=Object(o.createTextVNode)("Iframe"),u=Object(o.createTextVNode)("外链"),d=Object(o.createTextVNode)("按钮"),i=Object(o.createVNode)("div",{class:"el-form-item-msg"},"系统唯一且与内置组件名一致，否则导致缓存失效。如类型为Iframe的菜单，别名将代替源地址显示在地址栏",-1),m=Object(o.createVNode)("div",{class:"el-form-item-msg"},"如父节点、链接或Iframe等没有视图的菜单不需要填写",-1),s=Object(o.createTextVNode)("隐藏菜单"),f=Object(o.createVNode)("div",{class:"el-form-item-msg"},"菜单不显示在导航中，但用户依然可以访问，例如详情页",-1),p=Object(o.createTextVNode)("保 存");Object(o.popScopeId)();var b=r((function(e,t,n,b,O,j){var V=Object(o.resolveComponent)("el-input"),h=Object(o.resolveComponent)("el-form-item"),v=Object(o.resolveComponent)("el-cascader"),N=Object(o.resolveComponent)("el-radio-button"),g=Object(o.resolveComponent)("el-radio-group"),C=Object(o.resolveComponent)("el-autocomplete"),_=Object(o.resolveComponent)("el-checkbox"),k=Object(o.resolveComponent)("el-button"),w=Object(o.resolveComponent)("el-form"),x=Object(o.resolveComponent)("el-col"),y=Object(o.resolveComponent)("el-row");return Object(o.openBlock)(),Object(o.createBlock)(y,null,{default:r((function(){return[Object(o.createVNode)(x,{xl:12,lg:16},{default:r((function(){return[Object(o.createVNode)("h2",null,Object(o.toDisplayString)(O.form.meta.title||"新增菜单"),1),Object(o.createVNode)(w,{model:O.form,rules:O.rules,ref:"dialogForm","label-width":"80px","label-position":"left"},{default:r((function(){return[Object(o.createVNode)(h,{label:"显示名称",prop:"meta.title"},{default:r((function(){return[Object(o.createVNode)(V,{modelValue:O.form.meta.title,"onUpdate:modelValue":t[1]||(t[1]=function(e){return O.form.meta.title=e}),clearable:"",placeholder:"菜单显示名字"},null,8,["modelValue"])]})),_:1}),Object(o.createVNode)(h,{label:"上级菜单",prop:"parent"},{default:r((function(){return[Object(o.createVNode)(v,{modelValue:O.form.parent,"onUpdate:modelValue":t[2]||(t[2]=function(e){return O.form.parent=e}),options:n.menu,props:O.menuProps,"show-all-levels":!1,clearable:""},null,8,["modelValue","options","props"]),a]})),_:1}),Object(o.createVNode)(h,{label:"类型",prop:"meta.type"},{default:r((function(){return[Object(o.createVNode)(g,{modelValue:O.form.meta.type,"onUpdate:modelValue":t[3]||(t[3]=function(e){return O.form.meta.type=e})},{default:r((function(){return[Object(o.createVNode)(N,{label:"menu"},{default:r((function(){return[c]})),_:1}),Object(o.createVNode)(N,{label:"iframe"},{default:r((function(){return[l]})),_:1}),Object(o.createVNode)(N,{label:"link"},{default:r((function(){return[u]})),_:1}),Object(o.createVNode)(N,{label:"button"},{default:r((function(){return[d]})),_:1})]})),_:1},8,["modelValue"])]})),_:1}),Object(o.createVNode)(h,{label:"别名",prop:"name"},{default:r((function(){return[Object(o.createVNode)(V,{modelValue:O.form.name,"onUpdate:modelValue":t[4]||(t[4]=function(e){return O.form.name=e}),clearable:"",placeholder:"菜单别名"},null,8,["modelValue"]),i]})),_:1}),Object(o.createVNode)(h,{label:"菜单图标",prop:"meta.icon"},{default:r((function(){return[Object(o.createVNode)(V,{modelValue:O.form.meta.icon,"onUpdate:modelValue":t[5]||(t[5]=function(e){return O.form.meta.icon=e}),clearable:"",placeholder:""},null,8,["modelValue"])]})),_:1}),Object(o.createVNode)(h,{label:"路由地址",prop:"path"},{default:r((function(){return[Object(o.createVNode)(V,{modelValue:O.form.path,"onUpdate:modelValue":t[6]||(t[6]=function(e){return O.form.path=e}),clearable:"",placeholder:""},null,8,["modelValue"])]})),_:1}),Object(o.createVNode)(h,{label:"视图",prop:"component"},{default:r((function(){return[Object(o.createVNode)(C,{modelValue:O.form.component,"onUpdate:modelValue":t[7]||(t[7]=function(e){return O.form.component=e}),"fetch-suggestions":j.querySearch,debounce:10,clearable:"",placeholder:""},null,8,["modelValue","fetch-suggestions"]),m]})),_:1}),Object(o.createVNode)(h,{label:"是否隐藏",prop:"meta.hidden"},{default:r((function(){return[Object(o.createVNode)(_,{modelValue:O.form.meta.hidden,"onUpdate:modelValue":t[8]||(t[8]=function(e){return O.form.meta.hidden=e})},{default:r((function(){return[s]})),_:1},8,["modelValue"]),f]})),_:1}),Object(o.createVNode)(h,null,{default:r((function(){return[Object(o.createVNode)(k,{type:"primary"},{default:r((function(){return[p]})),_:1})]})),_:1})]})),_:1},8,["model","rules"])]})),_:1})]})),_:1})})),O=(n("4de4"),{props:{menu:{type:Object,default:function(){}}},data:function(){return{form:{parent:"",name:"",path:"",component:"",meta:{title:"",icon:"",type:"menu"}},menuProps:{value:"name",label:"name",checkStrictly:!0},rules:{},views:[]}},mounted:function(){this.views=this.getViews()},methods:{setData:function(e,t){this.form=e,this.form.parent=t},getViews:function(){return[]},querySearch:function(e,t){var n=this.getViews();t(n=n.filter((function(t){return-1!==t.value.indexOf(e)})))}}});n("c570");O.render=b,O.__scopeId="data-v-3e85ca4f";t.default=O},"1c1e":function(e,t,n){},b75c:function(e,t,n){"use strict";n("1c1e")},c570:function(e,t,n){"use strict";n("ec0c")},c584:function(e,t,n){"use strict";n.r(t);var o=n("7a23"),r=Object(o.withScopeId)("data-v-12d2cd98");Object(o.pushScopeId)("data-v-12d2cd98");var a={class:"custom-tree-node"},c={class:"label"},l={class:"do"};Object(o.popScopeId)();var u=r((function(e,t,n,u,d,i){var m=Object(o.resolveComponent)("el-input"),s=Object(o.resolveComponent)("el-header"),f=Object(o.resolveComponent)("el-tree"),p=Object(o.resolveComponent)("el-main"),b=Object(o.resolveComponent)("el-button"),O=Object(o.resolveComponent)("el-footer"),j=Object(o.resolveComponent)("el-container"),V=Object(o.resolveComponent)("el-aside"),h=Object(o.resolveComponent)("save");return Object(o.openBlock)(),Object(o.createBlock)(j,null,{default:r((function(){return[Object(o.createVNode)(V,{width:"300px"},{default:r((function(){return[Object(o.createVNode)(j,null,{default:r((function(){return[Object(o.createVNode)(s,null,{default:r((function(){return[Object(o.createVNode)(m,{placeholder:"输入关键字进行过滤",modelValue:d.menuFilterText,"onUpdate:modelValue":t[1]||(t[1]=function(e){return d.menuFilterText=e}),clearable:""},null,8,["modelValue"])]})),_:1}),Object(o.createVNode)(p,{class:"nopadding"},{default:r((function(){return[Object(o.createVNode)(f,{ref:"menu",class:"menu","node-key":"name",data:d.menuList,props:d.menuProps,"highlight-current":"","expand-on-click-node":!1,"check-strictly":"","show-checkbox":"","filter-node-method":i.menuFilterNode,onNodeClick:i.menuClick},{default:r((function(e){var t=e.node,n=e.data;return[Object(o.createVNode)("span",a,[Object(o.createVNode)("span",c,Object(o.toDisplayString)(t.label),1),Object(o.createVNode)("span",l,[Object(o.createVNode)("i",{class:"el-icon-plus",onClick:Object(o.withModifiers)((function(e){return i.add(t,n)}),["stop"])},null,8,["onClick"])])])]})),_:1},8,["data","props","filter-node-method","onNodeClick"])]})),_:1}),Object(o.createVNode)(O,{style:{height:"51px"}},{default:r((function(){return[Object(o.createVNode)(b,{type:"primary",size:"mini",icon:"el-icon-plus",onClick:t[2]||(t[2]=function(e){return i.add()})}),Object(o.createVNode)(b,{type:"danger",size:"mini",plain:"",icon:"el-icon-delete",onClick:i.delMenu},null,8,["onClick"])]})),_:1})]})),_:1})]})),_:1}),Object(o.createVNode)(j,null,{default:r((function(){return[Object(o.createVNode)(p,{class:"nopadding",style:{padding:"20px"}},{default:r((function(){return[Object(o.createVNode)(h,{ref:"save",menu:d.menuList},null,8,["menu"])]})),_:1})]})),_:1})]})),_:1})})),d=n("1da1"),i=(n("96cf"),n("4de4"),n("b0c0"),n("159b"),n("0dc2")),m=1,s={name:"settingMenu",components:{save:i.default},data:function(){return{menuList:[],menuProps:{label:function(e){return e.meta.title}},menuFilterText:""}},watch:{menuFilterText:function(e){this.$refs.menu.filter(e)}},mounted:function(){this.getMenu()},methods:{getMenu:function(){var e=this;return Object(d.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$API.menu.list.get();case 2:n=t.sent,e.menuList=n.data;case 4:case"end":return t.stop()}}),t)})))()},menuClick:function(e,t){var n=1==t.level?void 0:t.parent.data.name;this.$refs.save.setData(e,n)},menuFilterNode:function(e,t){return!e||-1!==t.name.indexOf(e)},add:function(e){var t="未命名"+m++,n={name:t,path:"",component:"",meta:{title:t,type:"menu"}};if(e){this.$refs.menu.append(n,e);var o=e.childNodes[e.childNodes.length-1];this.$refs.menu.setCurrentKey(o.data.name);var r=e.data.name;this.$refs.save.setData(n,r)}else{this.$refs.menu.append(n);var a=this.menuList[this.menuList.length-1];this.$refs.menu.setCurrentKey(a.name),this.$refs.save.setData(n)}},delMenu:function(){var e=this,t=this.$refs.menu.getCheckedNodes();if(0==t.length)return this.$message.warning("请选择需要删除的项"),!1;t.forEach((function(t){e.$refs.menu.remove(t)}))}}};n("b75c");s.render=u,s.__scopeId="data-v-12d2cd98";t.default=s},ec0c:function(e,t,n){}}]);